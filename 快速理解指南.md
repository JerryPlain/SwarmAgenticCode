# SwarmAgentic 快速理解指南

## 🎯 一句话总结
**使用粒子群优化（PSO）算法，让AI自动生成和优化多智能体系统，无需人工设计。**

---

## 🔍 核心问题

**传统方式**：
```
人工设计团队 → 编写代码 → 测试 → 发现问题 → 手动修改 → 重复...
```

**SwarmAgentic方式**：
```
任务描述 → AI自动生成团队 → AI自动优化 → 找到最佳配置
```

---

## 📊 核心概念（3分钟理解）

### 1. 粒子 (Particle) = 一个候选方案
- 包含：团队结构 + 执行代码
- 类比：一个足球队的配置（人员+战术）

### 2. 团队 (Team) = 多个AI角色协作
- 角色：每个AI有特定职责
- 工作流：角色之间如何协作

### 3. PSO优化 = 自动改进
- 评估：测试团队表现
- 分析：找出问题
- 更新：改进团队

---

## 🔄 工作流程（5步）

```
1. 初始化
   └─> 根据任务描述，AI生成多个不同的团队配置（粒子）

2. 执行任务
   └─> 每个团队执行任务，记录结果和问题

3. 评估分数
   └─> 计算每个团队的得分（适应度）

4. 分析失败
   └─> AI分析失败原因，生成改进建议

5. 更新团队
   └─> 根据最佳表现和失败分析，更新团队结构
   
   重复步骤2-5，直到找到最佳配置
```

---

## 📁 关键文件速查

| 文件 | 作用 | 类比 |
|------|------|------|
| `pso.py` | 主程序，控制整个优化流程 | 教练 |
| `role.py` | 定义角色和团队 | 球员和球队 |
| `func.py` | 执行任务 | 比赛 |
| `eval.py` | 评估结果 | 裁判 |
| `prompt/team_init.py` | 生成初始团队 | 选秀 |
| `prompt/team_update.py` | 更新团队 | 调整阵容 |

---

## 🎬 一个完整例子（MGSM数学题）

### 任务
解决数学问题："小明有5个苹果，吃了2个，还剩几个？"

### 步骤1：AI生成团队
```
角色1：问题理解专家
  - 职责：提取关键数字和操作
  - 策略：识别"有"、"吃"等关键词

角色2：计算专家  
  - 职责：执行数学计算
  - 策略：5 - 2 = 3

角色3：答案验证专家
  - 职责：检查答案合理性
  - 策略：验证答案是否在合理范围
```

### 步骤2：执行工作流
```
1. 问题理解专家 → 输出："有5个，吃了2个，需要计算剩余"
2. 计算专家 → 输入："5个，吃了2个" → 输出："5-2=3"
3. 答案验证专家 → 输入："3" → 输出："最终答案：3"
```

### 步骤3：评估
- 正确答案：3
- 团队答案：3
- 得分：1（正确）

### 步骤4：如果失败
- AI分析："计算专家没有考虑负数情况"
- 改进："添加边界检查，确保结果>=0"

### 步骤5：更新团队
- 修改计算专家的策略
- 重新测试

---

## 🔑 关键理解点

### 1. 为什么叫"粒子群"？
- **粒子**：每个候选方案（团队配置）
- **群**：同时优化多个方案
- **优化**：通过迭代找到最佳方案

### 2. 为什么需要"语言驱动"？
- 团队结构用自然语言描述（不是数值）
- 优化过程也用自然语言（LLM生成新结构）
- 更灵活，可以处理复杂任务

### 3. 与传统PSO的区别？
- **传统PSO**：优化数值参数（如：学习率=0.01）
- **SwarmAgentic**：优化团队结构（如：角色职责、工作流）

---

## 📚 学习路径

### 入门（30分钟）
1. 阅读 `README.md`
2. 阅读 `项目逻辑详解.md` 的前3章
3. 查看 `mgsm/pso.py` 的 `main()` 函数

### 进阶（2小时）
1. 理解 `role.py` 中的 `Role` 和 `Team` 类
2. 理解 `pso.py` 中的 `Particle` 类
3. 查看一个完整的迭代过程

### 深入（1天）
1. 阅读所有 `prompt/` 下的文件
2. 理解PSO更新的具体实现
3. 尝试修改任务定义，观察变化

---

## 💡 常见问题

**Q: 粒子群优化和遗传算法有什么区别？**
A: PSO更注重"速度"和"方向"，适合连续优化；遗传算法更适合离散优化。这里用PSO是因为团队结构可以"渐进式"改进。

**Q: 为什么需要生成代码？**
A: 代码定义了角色之间的具体交互方式，比纯文本描述更精确、可执行。

**Q: 如何保证生成的代码安全？**
A: 项目有警告说明，建议在沙箱环境中运行。代码只执行预定义的工作流，不执行任意代码。

**Q: 可以用于哪些任务？**
A: 项目展示了4个任务：数学推理(MGSM)、创意写作、旅行规划、日程安排。理论上可以扩展到任何需要多步骤协作的任务。

---

## 🎯 下一步

1. **阅读详细文档**：`项目逻辑详解.md`
2. **查看代码**：从 `mgsm/pso.py` 开始
3. **理解一个任务**：选择MGSM或Creative Writing，深入理解
4. **尝试修改**：修改任务定义，观察生成的团队如何变化

---

**记住核心思想**：**让AI自动设计AI系统！** 🚀
