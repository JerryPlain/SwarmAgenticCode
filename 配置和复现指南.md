# SwarmAgentic ç¯å¢ƒé…ç½®ä¸è®ºæ–‡å¤ç°å®Œæ•´æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨ä»å¤´å¼€å§‹é…ç½®ç¯å¢ƒå¹¶å¤ç°è®ºæ–‡ç»“æœã€‚

## ç›®å½•
1. [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
2. [æ­¥éª¤1: å®‰è£…Conda](#æ­¥éª¤1-å®‰è£…conda)
3. [æ­¥éª¤2: åˆ›å»ºPythonç¯å¢ƒ](#æ­¥éª¤2-åˆ›å»ºpythonç¯å¢ƒ)
4. [æ­¥éª¤3: å®‰è£…ä¾èµ–åŒ…](#æ­¥éª¤3-å®‰è£…ä¾èµ–åŒ…)
5. [æ­¥éª¤4: é…ç½®APIå¯†é’¥](#æ­¥éª¤4-é…ç½®apiå¯†é’¥)
6. [æ­¥éª¤5: éªŒè¯å®‰è£…](#æ­¥éª¤5-éªŒè¯å®‰è£…)
7. [å¤ç°è®ºæ–‡ç»“æœ](#å¤ç°è®ºæ–‡ç»“æœ)
8. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOS, Linux, æˆ– Windows (æ¨è macOS/Linux)
- **Pythonç‰ˆæœ¬**: 3.11
- **Conda**: æœ€æ–°ç‰ˆæœ¬ (ç”¨äºç¯å¢ƒç®¡ç†)
- **OpenAI APIå¯†é’¥**: éœ€è¦æœ‰æ•ˆçš„OpenAI APIå¯†é’¥

---

## æ­¥éª¤1: å®‰è£…Conda

å¦‚æœæ‚¨è¿˜æ²¡æœ‰å®‰è£…Condaï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### macOS/Linux:
```bash
# ä¸‹è½½Miniconda (æ¨è) æˆ– Anaconda
# Miniconda: https://docs.conda.io/en/latest/miniconda.html
# Anaconda: https://www.anaconda.com/download

# å®‰è£…åï¼Œé‡å¯ç»ˆç«¯æˆ–è¿è¡Œ:
source ~/.bashrc  # æˆ– source ~/.zshrc (å¦‚æœä½¿ç”¨zsh)
```

### Windows:
ä¸‹è½½å¹¶å®‰è£…Anaconda: https://www.anaconda.com/download

### éªŒè¯å®‰è£…:
```bash
conda --version
# åº”è¯¥æ˜¾ç¤ºç±»ä¼¼: conda 23.x.x
```

---

## æ­¥éª¤2: åˆ›å»ºPythonç¯å¢ƒ

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/jerryplain/projects/SwarmAgenticCode

# åˆ›å»ºåä¸ºswarmçš„condaç¯å¢ƒï¼Œä½¿ç”¨Python 3.11
conda create -n swarm python=3.11

# æ¿€æ´»ç¯å¢ƒ
conda activate swarm
```

**æ³¨æ„**: æ¯æ¬¡è¿è¡Œé¡¹ç›®å‰éƒ½éœ€è¦æ¿€æ´»ç¯å¢ƒï¼š
```bash
conda activate swarm
```

---

## æ­¥éª¤3: å®‰è£…ä¾èµ–åŒ…

åœ¨æ¿€æ´»çš„condaç¯å¢ƒä¸­å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š

```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd /Users/jerryplain/projects/SwarmAgenticCode

# ç¡®ä¿condaç¯å¢ƒå·²æ¿€æ´» (åº”è¯¥çœ‹åˆ°å‘½ä»¤æç¤ºç¬¦å‰æœ‰ (swarm))
conda activate swarm

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

**å®‰è£…çš„åŒ…åŒ…æ‹¬**:
- `openai==2.6.0` - OpenAI APIå®¢æˆ·ç«¯
- `langchain==1.0.1` - LangChainæ¡†æ¶
- `langchain_openai==1.0.0` - LangChainçš„OpenAIé›†æˆ
- `numpy==2.3.4` - æ•°å€¼è®¡ç®—
- `pandas==2.0.1` - æ•°æ®å¤„ç†
- ä»¥åŠå…¶ä»–å¿…è¦çš„ä¾èµ–

**éªŒè¯å®‰è£…**:
```bash
python -c "import openai, langchain, numpy, pandas; print('æ‰€æœ‰åŒ…å®‰è£…æˆåŠŸ!')"
```

---

## æ­¥éª¤4: é…ç½®APIå¯†é’¥

### æ–¹æ³•1: ä¸´æ—¶è®¾ç½® (æ¨èç”¨äºæµ‹è¯•)

åœ¨ç»ˆç«¯ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# macOS/Linux
export OPENAI_API_KEY="your-api-key-here"

# Windows (PowerShell)
$env:OPENAI_API_KEY="your-api-key-here"

# Windows (CMD)
set OPENAI_API_KEY=your-api-key-here
```

### æ–¹æ³•2: æ°¸ä¹…è®¾ç½® (æ¨èç”¨äºé•¿æœŸä½¿ç”¨)

**macOS/Linux**:
```bash
# ç¼–è¾‘shellé…ç½®æ–‡ä»¶
nano ~/.zshrc  # å¦‚æœä½¿ç”¨zsh
# æˆ–
nano ~/.bashrc  # å¦‚æœä½¿ç”¨bash

# æ·»åŠ ä»¥ä¸‹è¡Œ:
export OPENAI_API_KEY="your-api-key-here"

# ä¿å­˜åé‡æ–°åŠ è½½é…ç½®
source ~/.zshrc  # æˆ– source ~/.bashrc
```

**Windows**:
1. å³é”®"æ­¤ç”µè„‘" -> å±æ€§ -> é«˜çº§ç³»ç»Ÿè®¾ç½®
2. ç¯å¢ƒå˜é‡ -> æ–°å»ºç”¨æˆ·å˜é‡
3. å˜é‡å: `OPENAI_API_KEY`
4. å˜é‡å€¼: æ‚¨çš„APIå¯†é’¥

### éªŒè¯APIå¯†é’¥:
```bash
echo $OPENAI_API_KEY  # macOS/Linux
echo %OPENAI_API_KEY%  # Windows CMD
```

---

## æ­¥éª¤5: éªŒè¯å®‰è£…

è¿è¡Œä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥éªŒè¯ç¯å¢ƒé…ç½®æ˜¯å¦æ­£ç¡®ï¼š

```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸”ç¯å¢ƒå·²æ¿€æ´»
conda activate swarm
cd /Users/jerryplain/projects/SwarmAgenticCode

# æµ‹è¯•Pythonç¯å¢ƒ
python -c "import sys; print(f'Pythonç‰ˆæœ¬: {sys.version}')"

# æµ‹è¯•OpenAI APIè¿æ¥ (éœ€è¦è®¾ç½®APIå¯†é’¥)
python -c "from langchain_openai import ChatOpenAI; print('OpenAIæ¨¡å—å¯¼å…¥æˆåŠŸ!')"
```

---

## å¤ç°è®ºæ–‡ç»“æœ

ç¯å¢ƒé…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥å¼€å§‹å¤ç°è®ºæ–‡ä¸­çš„å®éªŒç»“æœã€‚ä»¥ä¸‹æ˜¯ä¸åŒä»»åŠ¡çš„å¤ç°æ­¥éª¤ï¼š

### ä»»åŠ¡1: TravelPlanner (æ—…è¡Œè§„åˆ’)

è¿™æ˜¯è®ºæ–‡ä¸­çš„ä¸»è¦ä»»åŠ¡ä¹‹ä¸€ã€‚

#### è®­ç»ƒé˜¶æ®µ:
```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate swarm

# è¿›å…¥TravelPlannerç›®å½•
cd travelplanner/swarm

# è¿è¡ŒPSOè®­ç»ƒ (5æ¬¡è¿­ä»£ï¼Œä½¿ç”¨45ä¸ªè®­ç»ƒæ ·æœ¬)
python pso.py --max_iteration 5 --dataset data/train_45.jsonl --ref_info data/train_ref_info.jsonl

# è®­ç»ƒå®Œæˆåï¼Œä¼šç”Ÿæˆ save.jsonl æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰ç²’å­çš„çŠ¶æ€
```

**å‚æ•°è¯´æ˜**:
- `--max_iteration 5`: PSOæœ€å¤§è¿­ä»£æ¬¡æ•°
- `--dataset`: è®­ç»ƒæ•°æ®é›†è·¯å¾„
- `--ref_info`: å‚è€ƒä¿¡æ¯æ•°æ®é›†è·¯å¾„
- `--model gpt-4o-mini`: ä½¿ç”¨çš„æ¨¡å‹ (é»˜è®¤gpt-4o-miniï¼Œå¯æ”¹ä¸ºgpt-4oç­‰)
- `--max_workers 16`: å¹¶è¡Œå·¥ä½œçº¿ç¨‹æ•° (å¯é€‰)

#### è¯„ä¼°é˜¶æ®µ:
```bash
# è¯„ä¼°æœ€ä½³ç²’å­ (ä½¿ç”¨æœ€æ–°çš„ç²’å­ï¼Œç´¢å¼•ä¸º-1)
python test.py --particle_idx -1

# æˆ–è€…è¯„ä¼°ç‰¹å®šç´¢å¼•çš„ç²’å­
python test.py --particle_idx 0

# ä½¿ç”¨ä¸åŒçš„æ¨¡å‹è¿›è¡Œè¯„ä¼°
python test.py --particle_idx -1 --model gpt-4o --eval_model gpt-4o
```

**è¯„ä¼°ç»“æœä½ç½®**:
- è¯„ä¼°ç»“æœä¿å­˜åœ¨: `evaluation/test/` ç›®å½•
- æŒ‡æ ‡æ–‡ä»¶: `metrics.json`
- ç”Ÿæˆçš„è®¡åˆ’: ä¿å­˜åœ¨ç›¸åº”çš„å­ç›®å½•ä¸­

---

### ä»»åŠ¡2: MGSM (æ•°å­¦æ¨ç†)

#### è®­ç»ƒé˜¶æ®µ:
```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate swarm

# è¿›å…¥MGSMç›®å½•
cd mgsm

# è¿è¡ŒPSOè®­ç»ƒ
python pso.py --max_iteration 10 --dataset_size 128

# å¯é€‰å‚æ•°:
# --settings 0.2 0.4 0.6 0.8 1.0  # æ¸©åº¦è®¾ç½®
# --model gpt-4o-mini              # æ¨¡å‹é€‰æ‹©
# --max_workers 16                  # å¹¶è¡Œçº¿ç¨‹æ•°
```

#### è¯„ä¼°é˜¶æ®µ:
```bash
# è¯„ä¼°æœ€ä½³ç²’å­
python test.py --particle_idx -1

# è¯„ä¼°ç‰¹å®šèŒƒå›´çš„æµ‹è¯•é›†
python test.py --particle_idx -1 --test_start 128 --test_end 928
```

---

### ä»»åŠ¡3: Creative Writing (åˆ›æ„å†™ä½œ)

#### è®­ç»ƒé˜¶æ®µ:
```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate swarm

# è¿›å…¥Creative Writingç›®å½•
cd creative_writing

# è¿è¡ŒPSOè®­ç»ƒ
python pso.py --max_iteration 10 --dataset data/data_100_random_text.txt
```

#### è¯„ä¼°é˜¶æ®µ:
```bash
# è¯„ä¼°æœ€ä½³ç²’å­
python test.py --particle_idx -1
```

---

### ä»»åŠ¡4: Natural Planning (è‡ªç„¶è§„åˆ’)

åŒ…å«ä¸‰ä¸ªå­ä»»åŠ¡ï¼šæ—¥å†è°ƒåº¦ã€ä¼šè®®è§„åˆ’ã€æ—…è¡Œè§„åˆ’ã€‚

#### æ—¥å†è°ƒåº¦ (Calendar Scheduling):
```bash
conda activate swarm
cd natural_plan/_calendar
python pso.py --max_iteration 10 --dataset_path ../data/calendar_scheduling.json
python test.py --particle_idx -1
```

#### ä¼šè®®è§„åˆ’ (Meeting Planning):
```bash
conda activate swarm
cd natural_plan/_meeting
python pso.py --max_iteration 10 --dataset_path ../data/meeting_planning.json
python test.py --particle_idx -1
```

#### æ—…è¡Œè§„åˆ’ (Trip Planning):
```bash
conda activate swarm
cd natural_plan/_trip
python pso.py --max_iteration 10 --dataset_path ../data/trip_planning.json
python test.py --particle_idx -1
```

---

## ç»“æœè§£è¯»

### TravelPlannerç»“æœ:
- **Commonsense Constraint Pass Rate**: å¸¸è¯†çº¦æŸé€šè¿‡ç‡
- **Hard Constraint Pass Rate**: ç¡¬çº¦æŸé€šè¿‡ç‡
- ç»“æœä¿å­˜åœ¨ `evaluation/test/metrics.json`

### MGSMç»“æœ:
- **Accuracy**: å‡†ç¡®ç‡ (ç²¾ç¡®åŒ¹é…)
- ç»“æœä¿å­˜åœ¨ `results/test/metrics.json`

### Creative Writingç»“æœ:
- **Coherence Score**: è¿è´¯æ€§è¯„åˆ† (1-10åˆ†)
- ç»“æœä¿å­˜åœ¨ `results/test/metrics.json`

---

## å¸¸è§é—®é¢˜

### Q1: å¯¼å…¥é”™è¯¯ "No module named 'xxx'"
**è§£å†³æ–¹æ¡ˆ**:
```bash
conda activate swarm
pip install -r requirements.txt
```

### Q2: OpenAI APIé”™è¯¯ "Invalid API Key"
**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®: `echo $OPENAI_API_KEY`
2. ç¡®ä¿APIå¯†é’¥æœ‰æ•ˆä¸”æœ‰è¶³å¤Ÿçš„é¢åº¦
3. é‡æ–°è®¾ç½®APIå¯†é’¥å¹¶é‡å¯ç»ˆç«¯

### Q3: å†…å­˜ä¸è¶³é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
- å‡å°‘ `--max_workers` å‚æ•°å€¼
- å‡å°‘ `--dataset_size` å‚æ•°å€¼
- ä½¿ç”¨æ›´å°çš„æ¨¡å‹ (å¦‚ gpt-4o-mini)

### Q4: è®­ç»ƒæ—¶é—´è¿‡é•¿
**è§£å†³æ–¹æ¡ˆ**:
- å‡å°‘ `--max_iteration` å‚æ•°å€¼è¿›è¡Œå¿«é€Ÿæµ‹è¯•
- å¢åŠ  `--max_workers` ä»¥å¹¶è¡Œå¤„ç†
- ä½¿ç”¨æ›´å°çš„æ•°æ®é›†è¿›è¡Œæµ‹è¯•

### Q5: å¦‚ä½•æ¢å¤è®­ç»ƒ?
**è§£å†³æ–¹æ¡ˆ** (ä»…TravelPlanneræ”¯æŒ):
```bash
cd travelplanner/swarm
python pso.py --resume --state_idx -1 --max_iteration 5 \
  --dataset data/train_45.jsonl --ref_info data/train_ref_info.jsonl
```

### Q6: å¦‚ä½•æŸ¥çœ‹è®­ç»ƒè¿›åº¦?
**è§£å†³æ–¹æ¡ˆ**:
- è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šæ˜¾ç¤ºè¿›åº¦æ¡å’Œæ—¥å¿—
- æ£€æŸ¥ `save.jsonl` æ–‡ä»¶æŸ¥çœ‹å·²ä¿å­˜çš„ç²’å­çŠ¶æ€
- æŸ¥çœ‹ `results/` æˆ– `evaluation/` ç›®å½•ä¸‹çš„æ—¥å¿—æ–‡ä»¶

---

## å¿«é€Ÿå¼€å§‹è„šæœ¬

åˆ›å»ºä¸€ä¸ªå¿«é€Ÿæµ‹è¯•è„šæœ¬ `quick_test.sh`:

```bash
#!/bin/bash
# å¿«é€Ÿæµ‹è¯•è„šæœ¬

# æ¿€æ´»ç¯å¢ƒ
conda activate swarm

# è®¾ç½®APIå¯†é’¥ (è¯·æ›¿æ¢ä¸ºæ‚¨çš„å¯†é’¥)
export OPENAI_API_KEY="your-api-key-here"

# è¿›å…¥MGSMç›®å½•è¿›è¡Œå¿«é€Ÿæµ‹è¯•
cd mgsm
python pso.py --max_iteration 2 --dataset_size 10

echo "å¿«é€Ÿæµ‹è¯•å®Œæˆ!"
```

ä½¿ç”¨æ–¹å¼:
```bash
chmod +x quick_test.sh
./quick_test.sh
```

---

## ä¸‹ä¸€æ­¥

1. **ç†è§£ä»£ç ç»“æ„**: é˜…è¯»README.mdäº†è§£é¡¹ç›®æ¶æ„
2. **æŸ¥çœ‹è®ºæ–‡**: é˜…è¯»arXivè®ºæ–‡äº†è§£æ–¹æ³•ç»†èŠ‚
3. **å®éªŒè°ƒä¼˜**: å°è¯•ä¸åŒçš„è¶…å‚æ•°è®¾ç½®
4. **æ‰©å±•æ–°ä»»åŠ¡**: å‚è€ƒ"Extending to New Domains"éƒ¨åˆ†æ·»åŠ æ–°ä»»åŠ¡

---

## è·å–å¸®åŠ©

- **GitHub Issues**: åœ¨é¡¹ç›®ä»“åº“æäº¤é—®é¢˜
- **è®ºæ–‡**: https://arxiv.org/pdf/2506.15672
- **æ–‡æ¡£**: æŸ¥çœ‹README.mdå’Œå„ä¸ªå­ç›®å½•çš„æ–‡æ¡£

---

**ç¥æ‚¨å®éªŒé¡ºåˆ©ï¼** ğŸš€
